# Super Admin Control Panel - Visual Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SUPER ADMIN CONTROL PANEL                              â”‚
â”‚                                                                             â”‚
â”‚  Navigation: Sidebar â†’ Super Admin (Shield Icon + "Control" Badge)         â”‚
â”‚  Access Level: Admin Only                                                   â”‚
â”‚  Auto-Refresh: âœ“ Every 30-60 seconds                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          STATISTICS DASHBOARD                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   TOTAL USERS      â”‚  CURRENTLY ONLINE  â”‚      TASKS         â”‚ DATA & FILES â”‚
â”‚                    â”‚                    â”‚                    â”‚              â”‚
â”‚      1,247         â”‚        342         â”‚      2,458         â”‚    1,523     â”‚
â”‚   92.7% active     â”‚  Active last 10min â”‚  85% completion    â”‚ File uploads â”‚
â”‚                    â”‚                    â”‚                    â”‚              â”‚
â”‚  âœ“ Active: 1,156   â”‚  Today: 425 logins â”‚  Pending: 245      â”‚ 3,456 forms  â”‚
â”‚  âŠ˜ Inactive: 61    â”‚                    â”‚  Overdue: 123      â”‚              â”‚
â”‚  âœ• Suspended: 30   â”‚                    â”‚                    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DISTRIBUTION & ANALYTICS                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   DEVICE DISTRIBUTION    â”‚   TOP LOGIN LOCATIONS    â”‚  USERS BY DEPARTMENT   â”‚
â”‚                          â”‚                          â”‚                        â”‚
â”‚  ğŸ–¥ï¸  Desktop: 856        â”‚  ğŸŒ United States: 542   â”‚  Sales: 500            â”‚
â”‚  ğŸ“± Mobile: 312          â”‚  ğŸŒ India: 287           â”‚  Marketing: 300        â”‚
â”‚  ğŸ“² Tablet: 79           â”‚  ğŸŒ UK: 156              â”‚  Engineering: 247      â”‚
â”‚                          â”‚  ğŸŒ Canada: 98           â”‚  Support: 150          â”‚
â”‚  ğŸ›¡ï¸  Trusted: 85%        â”‚  ğŸŒ Germany: 64          â”‚  HR: 50                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          USER MANAGEMENT                                    â”‚
â”‚                                                                             â”‚
â”‚  ğŸ” Search: [________________]  Status: [All â–¼]  Role: [All â–¼]            â”‚
â”‚                                                                             â”‚
â”‚  âš¡ Bulk Actions: 3 users selected   [Bulk Actions]  [Clear Selection]    â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â˜ â”‚ USER            â”‚ ROLE â”‚ DEPARTMENT â”‚ STATUS â”‚ ONLINE â”‚ LAST LOGIN      â”‚
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â˜‘ â”‚ John Doe        â”‚Admin â”‚ IT         â”‚Active  â”‚ğŸŸ¢Onlineâ”‚ 2 mins ago      â”‚
â”‚  â”‚ john@company.comâ”‚      â”‚            â”‚        â”‚        â”‚ ğŸ“ San Franciscoâ”‚
â”‚  â”‚                 â”‚      â”‚            â”‚        â”‚        â”‚ ğŸ–¥ï¸ Desktop      â”‚
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â˜‘ â”‚ Jane Smith      â”‚User  â”‚ Sales      â”‚Active  â”‚Offline â”‚ 2 hours ago     â”‚
â”‚  â”‚ jane@company.comâ”‚      â”‚            â”‚        â”‚        â”‚ ğŸ“ New York     â”‚
â”‚  â”‚                 â”‚      â”‚            â”‚        â”‚        â”‚ ğŸ“± Mobile       â”‚
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â˜‘ â”‚ Bob Johnson     â”‚User  â”‚ Marketing  â”‚Suspend â”‚Offline â”‚ Yesterday       â”‚
â”‚  â”‚ bob@company.com â”‚      â”‚            â”‚        â”‚        â”‚ ğŸ“ London       â”‚
â”‚  â”‚                 â”‚      â”‚            â”‚        â”‚        â”‚ ğŸ–¥ï¸ Desktop      â”‚
â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    [< Previous]  Page 1 of 42  [Next >]

  Actions Available:
  â€¢ Force Logout (ğŸšª) - For online users only
  â€¢ Bulk Status Change - Select multiple users
  â€¢ Export to CSV - Current filter results
  â€¢ Search & Filter - Find specific users
```

## Functional Flow Diagram

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Admin Logs In     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Navigate to        â”‚
                    â”‚  Super Admin Panel  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ View Statisticsâ”‚  â”‚  Search/Filter Usersâ”‚  â”‚  Monitor Onlineâ”‚
â”‚                â”‚  â”‚                     â”‚  â”‚      Users     â”‚
â”‚ â€¢ User counts  â”‚  â”‚ â€¢ By name/email    â”‚  â”‚                â”‚
â”‚ â€¢ Task metrics â”‚  â”‚ â€¢ By status        â”‚  â”‚ â€¢ Last 10 min  â”‚
â”‚ â€¢ Data counts  â”‚  â”‚ â€¢ By role          â”‚  â”‚ â€¢ Live badge   â”‚
â”‚ â€¢ Devices      â”‚  â”‚ â€¢ By department    â”‚  â”‚ â€¢ Location     â”‚
â”‚ â€¢ Locations    â”‚  â”‚                    â”‚  â”‚ â€¢ Device type  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
                    â”‚       Select Actions                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Individual     â”‚  â”‚  Bulk Actions       â”‚  â”‚ Force Logout   â”‚
â”‚ Status Change  â”‚  â”‚                     â”‚  â”‚                â”‚
â”‚                â”‚  â”‚ â€¢ Select multiple   â”‚  â”‚ â€¢ Online users â”‚
â”‚ â€¢ Active       â”‚  â”‚ â€¢ Change status     â”‚  â”‚ â€¢ Immediate    â”‚
â”‚ â€¢ Inactive     â”‚  â”‚ â€¢ Validation checks â”‚  â”‚ â€¢ Security     â”‚
â”‚ â€¢ Suspended    â”‚  â”‚ â€¢ Bulk confirmation â”‚  â”‚   checks       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Export Data (CSV)  â”‚
                    â”‚  â€¢ Filtered results â”‚
                    â”‚  â€¢ Timestamped file â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend Component                       â”‚
â”‚              client/src/pages/super-admin.tsx               â”‚
â”‚                                                             â”‚
â”‚  â€¢ Statistics Cards                                         â”‚
â”‚  â€¢ User Management Table                                    â”‚
â”‚  â€¢ Search & Filter UI                                       â”‚
â”‚  â€¢ Bulk Action Dialog                                       â”‚
â”‚  â€¢ Auto-refresh Logic                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ TanStack Query (useQuery, useMutation)
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API Endpoints                          â”‚
â”‚                   server/routes.ts                          â”‚
â”‚                                                             â”‚
â”‚  GET  /api/super-admin/statistics                          â”‚
â”‚  GET  /api/super-admin/active-users                        â”‚
â”‚  GET  /api/super-admin/user-locations                      â”‚
â”‚  POST /api/super-admin/bulk-status-change                  â”‚
â”‚  POST /api/super-admin/force-logout/:userId                â”‚
â”‚  GET  /api/super-admin/activity-timeline                   â”‚
â”‚                                                             â”‚
â”‚  Middleware: isAuthenticated + requireAdmin                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ Database Queries
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Layer                               â”‚
â”‚                  server/storage.ts                          â”‚
â”‚                                                             â”‚
â”‚  â€¢ getUsers(organizationId)                                â”‚
â”‚  â€¢ getTasks(organizationId)                                â”‚
â”‚  â€¢ getOrganizationLoginLogs(organizationId)                â”‚
â”‚  â€¢ getOrganizationDevices(organizationId)                  â”‚
â”‚  â€¢ changeUserStatus(userId, status)                        â”‚
â”‚  â€¢ getFormResponses(organizationId)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Databases                                 â”‚
â”‚                                                             â”‚
â”‚  PostgreSQL (Drizzle ORM)          MongoDB (GridFS)        â”‚
â”‚  â€¢ users                            â€¢ uploads.files        â”‚
â”‚  â€¢ userLoginLogs                    â€¢ file metadata        â”‚
â”‚  â€¢ userDevices                                             â”‚
â”‚  â€¢ tasks                                                   â”‚
â”‚  â€¢ formResponses                                           â”‚
â”‚  â€¢ flowRules                                               â”‚
â”‚  â€¢ organizations                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow: User Status Change

```
Admin selects users
        â”‚
        â–¼
Clicks "Bulk Actions"
        â”‚
        â–¼
Chooses new status (Active/Inactive/Suspended)
        â”‚
        â–¼
Confirms action
        â”‚
        â–¼
POST /api/super-admin/bulk-status-change
        â”‚
        â”œâ”€â–º Validate: User authentication
        â”œâ”€â–º Validate: Admin role
        â”œâ”€â–º Validate: Same organization
        â”œâ”€â–º Validate: Not suspending all admins
        â”‚
        â–¼
Update each user in database
        â”‚
        â”œâ”€â–º Success: Update users table
        â”œâ”€â–º Log: Track status change
        â”‚
        â–¼
Return results to frontend
        â”‚
        â”œâ”€â–º Success count
        â”œâ”€â–º Failure count
        â”œâ”€â–º Individual results
        â”‚
        â–¼
Invalidate queries (TanStack)
        â”‚
        â”œâ”€â–º Refetch statistics
        â”œâ”€â–º Refetch user list
        â”‚
        â–¼
Update UI with new data
        â”‚
        â–¼
Show success toast notification
```

## Security Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Security Layers                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer 1: Authentication
â”œâ”€â–º Firebase Auth session validation
â”œâ”€â–º Session cookie verification
â””â”€â–º Reject unauthenticated requests

Layer 2: Authorization
â”œâ”€â–º Role check: Must be Admin
â”œâ”€â–º Reject non-admin users
â””â”€â–º Return 403 Forbidden

Layer 3: Organization Isolation
â”œâ”€â–º Verify user's organizationId
â”œâ”€â–º Filter data by organizationId
â””â”€â–º Prevent cross-organization access

Layer 4: Business Rules
â”œâ”€â–º Cannot suspend all admins
â”œâ”€â–º Cannot suspend self
â”œâ”€â–º Cannot force logout self
â”œâ”€â–º Validate status transitions
â””â”€â–º Validate bulk operation size

Layer 5: Audit & Logging
â”œâ”€â–º Log all status changes
â”œâ”€â–º Track who made changes
â”œâ”€â–º Record timestamps
â””â”€â–º Maintain change history
```

## Component Hierarchy

```
<AppLayout>
  â””â”€ Super Admin Page
     â”œâ”€ Header Section
     â”‚  â”œâ”€ Title & Description
     â”‚  â””â”€ Actions (Refresh, Export, Auto-refresh toggle)
     â”‚
     â”œâ”€ Statistics Grid (4 cards)
     â”‚  â”œâ”€ Total Users Card
     â”‚  â”œâ”€ Currently Online Card
     â”‚  â”œâ”€ Tasks Card
     â”‚  â””â”€ Data & Files Card
     â”‚
     â”œâ”€ Distribution Grid (3 cards)
     â”‚  â”œâ”€ Device Distribution Card
     â”‚  â”œâ”€ Top Locations Card
     â”‚  â””â”€ Department Distribution Card
     â”‚
     â””â”€ User Management Card
        â”œâ”€ Filters Section
        â”‚  â”œâ”€ Search Input
        â”‚  â”œâ”€ Status Filter
        â”‚  â””â”€ Role Filter
        â”‚
        â”œâ”€ Bulk Actions Bar (conditional)
        â”‚  â”œâ”€ Selection count
        â”‚  â”œâ”€ Bulk Actions button
        â”‚  â””â”€ Clear Selection button
        â”‚
        â”œâ”€ User Table
        â”‚  â”œâ”€ Header (with select all)
        â”‚  â””â”€ Rows (with checkboxes, badges, actions)
        â”‚
        â””â”€ Pagination Info
  
  Dialogs:
  â””â”€ Bulk Action Dialog
     â”œâ”€ Status selector
     â””â”€ Confirm/Cancel buttons
```

## Real-Time Update Flow

```
Time: T+0s  â†’ Initial page load
              â”œâ”€ Fetch statistics
              â”œâ”€ Fetch active users
              â””â”€ Fetch locations

Time: T+30s â†’ Auto-refresh (if enabled)
              â”œâ”€ Refetch statistics
              â””â”€ Refetch active users

Time: T+60s â†’ Auto-refresh locations
              â””â”€ Refetch user locations

User Action â†’ Manual refresh
              â”œâ”€ Force refetch all data
              â””â”€ Show toast notification

Status Change â†’ Mutation success
              â”œâ”€ Invalidate queries
              â”œâ”€ Refetch affected data
              â””â”€ Update UI immediately
```

This visual overview provides a comprehensive understanding of the Super Admin Control Panel's structure, data flow, security model, and user interactions.
